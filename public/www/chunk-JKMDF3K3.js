import{a as V}from"./chunk-QSUICCCD.js";import{b as L,c as N,d as T,e as W,f as k,g as I,j as q,k as B,l as D}from"./chunk-JLQQGME4.js";import"./chunk-XARGZZIY.js";import{f as M,g as w}from"./chunk-LE2T2ZCV.js";import"./chunk-4N62LD7P.js";import{$a as S,Da as y,Fb as E,Ia as b,Pa as x,Sa as c,Wa as e,Xa as i,_a as v,ab as o,bb as C,cb as _,db as g,eb as f,fb as p,ia as s,ua as l,ya as u}from"./chunk-DDVZQDE5.js";import"./chunk-RW4GY4BD.js";function R(r,a){if(r&1&&(e(0,"div",2),o(1),i()),r&2){let F=S();l(),C(F.error())}}function j(r,a){r&1&&(e(0,"div",3),o(1," Email verified successfully! "),e(2,"a",11),o(3,"Login now"),i()())}var U=(()=>{let a=class a{constructor(m,n){this.authService=m,this.router=n,this.email="",this.code="",this.loading=s(!1),this.error=s(""),this.success=s(!1)}onSubmit(){this.loading.set(!0),this.error.set(""),this.success.set(!1),this.authService.verifyEmail(this.email,this.code).subscribe({next:()=>{this.success.set(!0),this.loading.set(!1)},error:m=>{var n;this.error.set(((n=m.error)==null?void 0:n.message)||"Verification failed"),this.loading.set(!1)}})}};a.\u0275fac=function(n){return new(n||a)(u(V),u(M))},a.\u0275cmp=y({type:a,selectors:[["app-verify-email"]],decls:19,vars:6,consts:[[1,"bg-white","rounded-lg","shadow-sm","p-8"],[1,"text-2xl","font-semibold","text-gray-900","mb-6"],[1,"bg-red-50","text-red-600","p-3","rounded","mb-4","text-sm"],[1,"bg-green-50","text-green-600","p-3","rounded","mb-4","text-sm"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","name","email","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","text","name","code","required","","maxlength","6",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","disabled:opacity-50",3,"disabled"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/auth/login",1,"text-blue-600","hover:text-blue-700"],["routerLink","/auth/login",1,"underline","ml-2"]],template:function(n,t){n&1&&(e(0,"div",0)(1,"h2",1),o(2,"Verify Email"),i(),b(3,R,2,1,"div",2)(4,j,4,0,"div",3),e(5,"form",4),v("ngSubmit",function(){return t.onSubmit()}),e(6,"div")(7,"label",5),o(8,"Email"),i(),e(9,"input",6),p("ngModelChange",function(d){return f(t.email,d)||(t.email=d),d}),i()(),e(10,"div")(11,"label",5),o(12,"Verification Code"),i(),e(13,"input",7),p("ngModelChange",function(d){return f(t.code,d)||(t.code=d),d}),i()(),e(14,"button",8),o(15),i()(),e(16,"div",9)(17,"a",10),o(18,"Back to login"),i()()()),n&2&&(l(3),c(t.error()?3:-1),l(),c(t.success()?4:-1),l(5),g("ngModel",t.email),l(4),g("ngModel",t.code),l(),x("disabled",t.loading()),l(),_(" ",t.loading()?"Verifying...":"Verify Email"," "))},dependencies:[E,D,I,L,N,T,q,B,k,W,w],encapsulation:2});let r=a;return r})();export{U as VerifyEmailComponent};
