import{a as I}from"./chunk-MYGKFXKM.js";import"./chunk-XARGZZIY.js";import"./chunk-4N62LD7P.js";import{$a as _,Da as f,Eb as w,Fb as C,Ia as v,Ra as b,Sa as g,Ua as S,Va as h,Wa as t,Xa as e,Ya as y,ab as a,bb as s,cb as E,ia as p,ib as m,jb as c,ua as o,ya as u}from"./chunk-DDVZQDE5.js";import"./chunk-RW4GY4BD.js";var T=(i,n)=>n.id;function A(i,n){i&1&&(t(0,"div",2),y(1,"div",4),e())}function D(i,n){i&1&&(t(0,"div",2)(1,"p",5),a(2,"No subscriptions found"),e()())}function M(i,n){if(i&1&&(t(0,"tr")(1,"td",10),a(2),e(),t(3,"td",10),a(4),e(),t(5,"td",11),a(6),m(7,"date"),e(),t(8,"td",11),a(9),m(10,"date"),e(),t(11,"td",12)(12,"span",13),a(13),e()()()),i&2){let r=n.$implicit;o(2),s(r.email),o(2),s(r.tier_name),o(2),s(c(7,7,r.start_date)),o(3),s(c(10,9,r.end_date)),o(3),b(r.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),o(),E(" ",r.active?"Active":"Inactive"," ")}}function k(i,n){if(i&1&&(t(0,"div",3)(1,"table",6)(2,"thead",7)(3,"tr")(4,"th",8),a(5,"Email"),e(),t(6,"th",8),a(7,"Tier"),e(),t(8,"th",8),a(9,"Start Date"),e(),t(10,"th",8),a(11,"End Date"),e(),t(12,"th",8),a(13,"Status"),e()()(),t(14,"tbody",9),S(15,M,14,11,"tr",null,T),e()()()),i&2){let r=_();o(15),h(r.subscriptions())}}var O=(()=>{let n=class n{constructor(d){this.tierService=d,this.subscriptions=p([]),this.loading=p(!1)}ngOnInit(){this.loadSubscriptions()}loadSubscriptions(){this.loading.set(!0),this.tierService.getSubscriptions({pageSize:100}).subscribe({next:d=>{this.subscriptions.set(d.items||[]),this.loading.set(!1)},error:()=>this.loading.set(!1)})}};n.\u0275fac=function(l){return new(l||n)(u(I))},n.\u0275cmp=f({type:n,selectors:[["app-admin-subscriptions"]],decls:6,vars:1,consts:[[1,"max-w-7xl","mx-auto"],[1,"text-3xl","font-semibold","text-gray-900","mb-6"],[1,"text-center","py-12"],[1,"bg-white","rounded-lg","shadow-sm","overflow-hidden"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-gray-500"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"bg-white","divide-y","divide-gray-200"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-600"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"]],template:function(l,x){l&1&&(t(0,"div",0)(1,"h1",1),a(2,"User Subscriptions"),e(),v(3,A,2,0,"div",2)(4,D,3,0,"div",2)(5,k,17,0,"div",3),e()),l&2&&(o(3),g(x.loading()?3:x.subscriptions().length===0?4:5))},dependencies:[C,w],encapsulation:2});let i=n;return i})();export{O as AdminSubscriptionsComponent};
