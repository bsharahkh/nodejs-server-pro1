import{a as L}from"./chunk-QSUICCCD.js";import{b as I,c as N,d as W,e as k,f as T,g as D,j as F,l as q}from"./chunk-JLQQGME4.js";import"./chunk-XARGZZIY.js";import{f as M,g as E}from"./chunk-LE2T2ZCV.js";import"./chunk-4N62LD7P.js";import{$a as v,Da as f,Fb as _,Ia as h,Pa as S,Sa as x,Wa as e,Xa as i,_a as y,ab as o,bb as w,cb as C,db as g,eb as p,fb as c,ia as m,ua as l,ya as u}from"./chunk-DDVZQDE5.js";import"./chunk-RW4GY4BD.js";function R(d,r){if(d&1&&(e(0,"div",2),o(1),i()),d&2){let P=v();l(),w(P.error())}}var O=(()=>{let r=class r{constructor(s,n){this.authService=s,this.router=n,this.email="",this.password="",this.loading=m(!1),this.error=m("")}onSubmit(){this.loading.set(!0),this.error.set(""),this.authService.login(this.email,this.password).subscribe({next:()=>{this.router.navigate(["/books"])},error:s=>{var n;this.error.set(((n=s.error)==null?void 0:n.message)||"Login failed"),this.loading.set(!1)}})}};r.\u0275fac=function(n){return new(n||r)(u(L),u(M))},r.\u0275cmp=f({type:r,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"bg-white","rounded-lg","shadow-sm","p-8"],[1,"text-2xl","font-semibold","text-gray-900","mb-6"],[1,"bg-red-50","text-red-600","p-3","rounded","mb-4","text-sm"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","email","name","email","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"mt-6","text-center","text-sm","text-gray-600"],["routerLink","/auth/reset",1,"text-blue-600","hover:text-blue-700"],[1,"mt-2"],["routerLink","/auth/signup",1,"text-blue-600","hover:text-blue-700"]],template:function(n,t){n&1&&(e(0,"div",0)(1,"h2",1),o(2,"Sign In"),i(),h(3,R,2,1,"div",2),e(4,"form",3),y("ngSubmit",function(){return t.onSubmit()}),e(5,"div")(6,"label",4),o(7,"Email"),i(),e(8,"input",5),c("ngModelChange",function(a){return p(t.email,a)||(t.email=a),a}),i()(),e(9,"div")(10,"label",4),o(11,"Password"),i(),e(12,"input",6),c("ngModelChange",function(a){return p(t.password,a)||(t.password=a),a}),i()(),e(13,"button",7),o(14),i()(),e(15,"div",8)(16,"a",9),o(17,"Forgot password?"),i(),e(18,"div",10),o(19," Don't have an account? "),e(20,"a",11),o(21,"Sign up"),i()()()()),n&2&&(l(3),x(t.error()?3:-1),l(5),g("ngModel",t.email),l(4),g("ngModel",t.password),l(),S("disabled",t.loading()),l(),C(" ",t.loading()?"Signing in...":"Sign In"," "))},dependencies:[_,q,D,I,N,W,F,T,k,E],encapsulation:2});let d=r;return d})();export{O as LoginComponent};
