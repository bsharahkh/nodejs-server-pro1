import{a as B}from"./chunk-VRCABSLP.js";import{a as D}from"./chunk-T42BHAKM.js";import"./chunk-XARGZZIY.js";import{c as k,f as w}from"./chunk-LE2T2ZCV.js";import"./chunk-4N62LD7P.js";import{$a as s,Da as _,Fb as g,Ia as v,Pa as C,Sa as u,Wa as r,Xa as n,Ya as f,_a as h,ab as c,bb as x,ia as m,sa as b,ua as l,ya as p}from"./chunk-DDVZQDE5.js";import"./chunk-RW4GY4BD.js";function S(e,t){e&1&&(r(0,"div",2),f(1,"div",5),n())}function E(e,t){if(e&1&&(r(0,"div",3),c(1),n()),e&2){let o=s();l(),x(o.error())}}function T(e,t){if(e&1&&(r(0,"p",7),c(1),n()),e&2){let o=s(2);l(),x(o.detail().description)}}function y(e,t){if(e&1&&(r(0,"div",8),f(1,"div",9),n()),e&2){let o=s(2);l(),C("innerHTML",o.detail().book_data,b)}}function I(e,t){if(e&1&&(r(0,"div",4)(1,"h1",6),c(2),n(),v(3,T,2,1,"p",7)(4,y,2,1,"div",8),n()),e&2){let o=s();l(2),x(o.detail().name),l(),u(o.detail().description?3:-1),l(),u(o.detail().book_data?4:-1)}}var A=(()=>{let t=class t{constructor(d,i,a){this.route=d,this.router=i,this.bookService=a,this.detail=m(null),this.loading=m(!1),this.error=m("")}ngOnInit(){let d=+this.route.snapshot.paramMap.get("id");this.loadDetail(d)}loadDetail(d){this.loading.set(!0),this.bookService.getDetail(d).subscribe({next:i=>{this.detail.set(i),this.loading.set(!1)},error:i=>{var a;this.error.set(((a=i.error)==null?void 0:a.message)||"Failed to load content"),this.loading.set(!1)}})}goBack(){this.router.navigate(["/books"])}};t.\u0275fac=function(i){return new(i||t)(p(k),p(w),p(B))},t.\u0275cmp=_({type:t,selectors:[["app-book-detail-view"]],decls:8,vars:1,consts:[[1,"max-w-4xl","mx-auto"],["appDebounceClick","",1,"mb-6","text-blue-600","hover:text-blue-700","flex","items-center","gap-2",3,"debounceClick"],[1,"text-center","py-12"],[1,"bg-red-50","text-red-600","p-4","rounded-lg"],[1,"bg-white","rounded-lg","shadow-sm","p-8"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"text-3xl","font-semibold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6"],[1,"prose","max-w-none"],[1,"whitespace-pre-wrap",3,"innerHTML"]],template:function(i,a){i&1&&(r(0,"div",0)(1,"button",1),h("debounceClick",function(){return a.goBack()}),r(2,"span"),c(3,"\u2190"),n(),c(4," Back "),n(),v(5,S,2,0,"div",2)(6,E,2,1,"div",3)(7,I,5,3,"div",4),n()),i&2&&(l(5),u(a.loading()?5:a.error()?6:a.detail()?7:-1))},dependencies:[g,D],encapsulation:2});let e=t;return e})();export{A as BookDetailViewComponent};
